{% extends 'base.html.twig' %}

{% block title %}ChartConfiguration index{% endblock %}

{% block body %}
    {% for chart in charts %}
    {# ... Autres codes ... #}

    <canvas id="canvas{{ chart.id }}" width="400" height="200"></canvas>
    <script>
        const ctx{{ chart.id }} = document.getElementById('canvas{{ chart.id }}');
        const config{{ chart.id }} = {{ chartData[chart.id] | json_encode | raw }};
        new Chart(ctx{{ chart.id }}, {
            type: '{{ chart.type }}',
            data: {
                {% if chart.type == 'line' %}
                labels: ['2024-01-11', '2024-09-11', '2025-10-11', '2025-10-11'],
                datasets: [{
                    label: '{{ chart.id }}',
                    data: config{{ chart.id }},
                    backgroundColor: 'red',
                    borderColor: 'red',
                    borderWidth: 2
                }]
                {% elseif chart.type == 'radar' %}
                // Logique pour le type 'radar'
                {% endif %}
            },
            options: {
                scales: {
                    {% if chart.type == 'line' %}
                    y: {
                        min: {{ config[chart.id].min }},
                        max: {{ config[chart.id].max }}
                    }
                    {% endif %}
                }
            }
        });
    </script>
{% endfor %}
{% endblock %}

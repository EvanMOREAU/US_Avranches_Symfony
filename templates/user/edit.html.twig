{% extends 'base.html.twig' %}

{% block body %}




{{ include('user/_form.html.twig', {'button_label': 'Update'}) }}


<script>
  const dropContainer = document.getElementById('dropContainer');
  const fileInput = document.getElementById('{{ form.profile_image.vars.id }}');

  dropContainer.addEventListener('dragover', (e) => {
    e.preventDefault();
    dropContainer.classList.add('drag-over');
  });

  dropContainer.addEventListener('dragleave', () => {
    dropContainer.classList.remove('drag-over');
  });

  dropContainer.addEventListener('drop', (e) => {
    e.preventDefault();
    dropContainer.classList.remove('drag-over');
    const files = e.dataTransfer.files;
    fileInput.files = files;
    handleFileSelect(e);
  });

  function handleFileSelect(event) {
    const file = event.target.files[0];
    const fileNameElement = document.getElementById('file-name');
    if (file) {
      fileNameElement.textContent = file.name;
    } else {
      fileNameElement.textContent = '';
    }
  }
</script>

{% endblock %}
